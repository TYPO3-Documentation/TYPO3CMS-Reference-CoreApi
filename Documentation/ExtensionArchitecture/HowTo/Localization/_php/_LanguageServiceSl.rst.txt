.. Generated by https://github.com/TYPO3-Documentation/t3docs-codesnippets 
.. Extracted from T3docs\Examples\Middleware\HaikuSeasonList

.. code-block:: php
   :caption: Class T3docs\\Examples\\Middleware\\HaikuSeasonList

   use Psr\Http\Message\ServerRequestInterface;
   
   final class HaikuSeasonList implements MiddlewareInterface
   {
       private const SEASONS = ['spring', 'summer', 'autumn', 'winter', 'theFifthSeason'];
       private const TRANSLATION_PATH = 'LLL:EXT:examples/Resources/Private/Language/PluginHaiku/locallang.xlf:season.';
   
       private function getSeasons(ServerRequestInterface $request): array
       {
           $languageService = $this->languageServiceFactory->createFromSiteLanguage(
               $request->getAttribute('language') ?? $request->getAttribute('site')->getDefaultLanguage()
           );
   
           $translatedSeasons = [];
           foreach (self::SEASONS as $season) {
               $translatedSeasons[$season] = $languageService->sL(self::TRANSLATION_PATH . $season);
           }
   
           return $translatedSeasons;
       }
   }
   