..  Generated by https://github.com/TYPO3-Documentation/t3docs-codesnippets
..  Extracted from T3docs\BlogExample\Controller\BackendController

..  code-block:: php
    :caption: Class T3docs\\BlogExample\\Controller\\BackendController

    use Psr\Http\Message\ResponseInterface;
    use Psr\Http\Message\ServerRequestInterface;
    use T3docs\BlogExample\Domain\Model\Post;
    use TYPO3\CMS\Backend\Template\ModuleTemplate;

    class BackendController extends ActionController
    {
        protected function initializeModuleTemplate(
            ServerRequestInterface $request,
        ): ModuleTemplate {
            $view = $this->moduleTemplateFactory->create($request);

            $context = '';
            $this->modifyDocHeaderComponent($view, $context);
            $view->setFlashMessageQueue($this->getFlashMessageQueue());
            $view->setTitle(
                $this->getLanguageService()->sL('blog_example.module.mod:mlang_tabs_tab'),
                $context,
            );

            return $view;
        }

        public function showPostAction(Post $post): ResponseInterface
        {
            if (!$this->isCurrentPageSysfolder()) {
                return $this->redirect('index');
            }
            $view = $this->initializeModuleTemplate($this->request);
            $view->assign('post', $post);
            return $view->renderResponse('ShowPost');
        }
    }
