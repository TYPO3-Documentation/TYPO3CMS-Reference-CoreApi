..  Generated by https://github.com/TYPO3-Documentation/t3docs-codesnippets
..  Extracted from T3docs\BlogExample\Controller\BackendController

..  code-block:: php
    :caption: Class T3docs\\BlogExample\\Controller\\BackendController

    use Psr\Http\Message\ServerRequestInterface;
    use TYPO3\CMS\Backend\Template\ModuleTemplate;
    use TYPO3\CMS\Backend\Utility\BackendUtility;
    use TYPO3\CMS\Core\Type\Bitmask\Permission;

    class BackendController extends ActionController
    {
        private function modifyDocHeaderComponent(ModuleTemplate $view): void
        {
            $context = '';
            $menu = $this->buildMenu($view, $context);

            $buttonBar = $view->getDocHeaderComponent()->getButtonBar();
            $this->addPopulateButton($buttonBar);
            $this->addShortCutButton($buttonBar);
            $this->addReloadButton($buttonBar);

            $view->getDocHeaderComponent()->getMenuRegistry()->addMenu($menu);
            $view->setTitle(
                $this->getLanguageService()->sL('LLL:EXT:blog_example/Resources/Private/Language/Module/locallang_mod.xlf:mlang_tabs_tab'),
                $context,
            );

            $permissionClause = $GLOBALS['BE_USER']->getPagePermsClause(Permission::PAGE_SHOW);
            $pageRecord = BackendUtility::readPageAccess(
                $this->pageUid,
                $permissionClause,
            );
            if ($pageRecord) {
                $view->getDocHeaderComponent()->setMetaInformation($pageRecord);
            }
        }

        protected function initializeModuleTemplate(
            ServerRequestInterface $request,
        ): ModuleTemplate {
            $view = $this->moduleTemplateFactory->create($request);

            $this->modifyDocHeaderComponent($view);
            $view->setFlashMessageQueue($this->getFlashMessageQueue());

            return $view;
        }
    }
    