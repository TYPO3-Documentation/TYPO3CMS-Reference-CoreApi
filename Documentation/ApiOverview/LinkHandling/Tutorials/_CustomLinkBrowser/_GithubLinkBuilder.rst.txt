.. Generated by https://github.com/TYPO3-Documentation/t3docs-codesnippets
.. Extracted from T3docs\Examples\LinkHandler\GithubLinkBuilder

.. code-block:: php
   :caption: Class T3docs\\Examples\\LinkHandler\\GithubLinkBuilder

   use TYPO3\CMS\Frontend\Typolink\LinkResult;
   use TYPO3\CMS\Frontend\Typolink\LinkResultInterface;
   use TYPO3\CMS\Frontend\Typolink\UnableToLinkException;

   /**
    * Builds a TypoLink to a Github issue
    */
   class GithubLinkBuilder extends AbstractTypolinkBuilder
   {
       private const TYPE_GITHUB = 'github';

       public function build(
           array &$linkDetails,
           string $linkText,
           string $target,
           array $conf,
       ): LinkResultInterface {
           $issueId = (int)$linkDetails['issue'];
           if ($issueId < 1) {
               throw new UnableToLinkException(
                   '"' . $issueId . '" is not a valid GitHub issue number.',
                   // Use the Unix timestamp of the time of creation of this message
                   1665304602,
                   null,
                   $linkText,
               );
           }
           $url = 'https://github.com/TYPO3-Documentation/TYPO3CMS-Reference-CoreApi/issues/' . $issueId;

           return (new LinkResult(self::TYPE_GITHUB, $url))
               ->withTarget($target)
               ->withLinkConfiguration($conf)
               ->withLinkText($linkText);
       }
   }
   